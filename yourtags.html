<!DOCTYPE html>
<html lang="en">
<head>
	<link href="bootstrap/css/bootstrap.css" rel="stylesheet" />
	<link href="bootstrap/css/bootstrap-responsive.css" rel="stylesheet" />
	<link href="styles.css" rel="stylesheet" />
	<link href="bootstrap/css/style.css?a1" rel="stylesheet" />
	
	
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
	<script src="scripts/jquery.placeholder.min.js" type="text/javascript"></script>
	<script src="scripts/bootstrap.min.js" type="text/javascript"></script>
	<script src="js/tag-filter.js"></script>
		<script src="js/fs-wrapper.js"></script>
		<script src="js/yelp-wrapper.js"></script>
		<script src="js/mustache.js"></script>
		<script src="js/jquery_1.8.2.min.js"></script>
		<script type="text/javascript">

			function addTag(e) {
				var $e = $(e);

				$e.attr('onclick', 'removeTag(this)');

				$e.remove();
				$e.appendTo($('#chosen-tags'));
				$remove = $e.find($('.tag-remove'));
				$remove.css('display', 'inline');

				$e.removeClass('tag-clickable clear-both');
			}

			function removeTag(e) {
				var $e = $(e);

				$e.attr('onclick', 'addTag(this)');
				$e.addClass('tag-clickable clear-both');

				$e.appendTo($('#existing-tags'));
				$remove = $e.find($('.tag-remove'));
				$remove.css('display', 'none');
			}

			function loadTags() {
				$('<span class="tag tag-clickable clear-both pull-left" onclick="addTag(this);"> Japanese <span class="tag-remove" style="display:none"> | X </span></span>').appendTo('#existing-tags');
				}

			function displayResults() {
				$.get("data.txt",
				   function(data){
				   	var i = 0;
				   	var $name = data.businesses[i].name;
				   	var $categories = data.businesses[i].categories;
				   	var $display_phone = data.businesses[i].display_phone;
				   	var $image_url = data.businesses[i].image_url;
				   	var $address = data.businesses[i].location.address;
				   	var $city = data.businesses[i].location.city;
				   	var $neighborhoods = data.businesses[i].location.neighborhoods;
				   	var $rating_img_url = data.businesses[i].rating_img_url;
				   	var $review_count = data.businesses[i].review_count;
				   	var $url = data.businesses[i].url;
				     $('#results').append('<a href="' + $url + '"> <div class="well well-small clearfix"> <div class="span3 pull-left"> <h3>' + $name + '</h3> <p> Neighborhoods: ' + $neighborhoods + '</p><p> Categories: ' + $categories + '</div><div class="span3 pull-left"> <img src="' + $rating_img_url + '"> ' + $review_count + ' reviews <p>' + $display_phone + '</p><p>' + $address + '<br/></p>' + $city + '</div></div></a>')
				   }, "json");
			}
		</script>
</head>
<body onload="loadTags()">
	<div class="container">
		<div>
		    <ul class="nav nav-tabs">
				<li class="active">
			    	<a href="search-results.html">Home</a>
			  	</li>
			 	<li>
		      		<a href="tag-assignment-wrapper.html">Your Tags</a>
		    	</li>
			  	<li>
			  		<a href="#">...</a>
			  	</li>
		  	</ul>
		</div>
		<div class="span11" style="text-align: center;"> 
			<h1 style="color: red;"> Your Tags </h1>
		</div>
		<div class="row-fluid">
			<div class="well well-small span2">
				<!-- Sidebar for tags -->
				<h2> Tag List </h2>
				<p> Click on tag to filter by that tag </p>
					<div id ="existing-tags" >
					</div>
			</div>
			<div class="span10">
				<!-- Main content for filtered businesses go here -->
				<button type="submit" class="btn btn-warning pull-left" onclick="displayResults()">Display Results</button>
	  			<div id="chosen-tags" class="span10 well well-small">
				</div>
	  			<form class="form-search">
	  				<input type="text" class="input-large search-query span9">
				</form>
						<div>
							<hr>
								<h3> Filtered Results </h3>
								<div id="results">
									<div class="well well-small clearfix">
										<!-- Filtered Results Start Here -->
										<div class="span5 pull-left">
											<h3> Joe's Pizza </h3>
											<p> Categories: Italian Pizza </p>
											<p> Neighborhoods: Upper West Side </p>
										</div>
										<div class="span5 pull-right">
											<p> Your Tags </p>
											<button type="submit" class="btn btn-info">Tag Name (x)</button>
											<button type="submit" class="btn btn-info">Tag Name (x)</button>
											<button type="submit" class="btn btn-info">Tag Name (x)</button>
											<button type="submit" class="btn btn-info">Tag Name (x)</button>
										</div>
										<div class="clear-fix"> </div>
									</div>
								</div>
								<!-- <div class="well well-small clearfix"> 
									<div class="span3">
										<h3> Hillstone </h3>
									</div>
									<div class="span5 pull-right">
										<button type="submit" class="btn btn-info">Tag Name (x)</button>
										<button type="submit" class="btn btn-info">Tag Name (x)</button>
										<button type="submit" class="btn btn-info">Tag Name (x)</button>
										<button type="submit" class="btn btn-info">Tag Name (x)</button>
									</div>
								-->
						</div>
					</hr>
				</div>
			</div>
		</div>
	</div>
<body>
</html>